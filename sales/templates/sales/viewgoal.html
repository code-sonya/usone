{% extends "dashboard/layout.html" %}
{% load humanize %}

{% block title %}
  목표관리
{% endblock %}


{% block css %}

  <style type="text/css">
    .pc-table {
      color: #333333;
      table-layout: fixed;
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 1rem;
    }

    .pc-table td, .pc-table th {
      padding: 10px;
      text-align: center;
      vertical-align: middle;
      font-size: 18px;
      border-top: 1px dotted #858796a3;
    }

    .mobile-table {
      color: #333333;
      table-layout: fixed;
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 1rem;
    }

    .mobile-table td, .mobile-table th {
      padding: 4px;
      vertical-align: middle;
      font-size: 16px;
      border-top: 1px dotted #858796a3;
    }

  </style>

{% endblock %}


{% block content %}

  <div class="row">
    <div class="col-xl-1"></div>

    <div class="col-xl-10">
      <div class="card shadow mb-4">
        <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
          <h3 class="m-0 text-gray-800"> {{ goal.year }}년도 {{ goal.empDeptName }} - {{ goal.empName }} 영업 목표 </h3>
        </div>

        <div class="card-body">
          <h5 class="text-dark mb-3"><b> ▼ 목표 금액</b></h5>
          <table class="pc-table">
            <thead>
            <tr>
              <td colspan="12" class="text-success font-weight-bold">전체 목표 금액 - {{ goal.yearSum|intcomma }}
            </tr>
            </tr>
            <tr>
              <th colspan="6" class="text-primary">Q1 목표 금액 - {{ goal.q1|intcomma }}</th>
              <th colspan="6" class="text-primary">Q2 목표 금액 - {{ goal.q2|intcomma }}</th>
            </tr>
            </thead>
            <tbody>
            <tr>
              <td colspan="2">1월</td>
              <td colspan="2">2월</td>
              <td colspan="2">3월</td>
              <td colspan="2">4월</td>
              <td colspan="2">5월</td>
              <td colspan="2">6월</td>
            </tr>
            <tr>
              <td colspan="2">{{ goal.jan|intcomma }}원</td>
              <td colspan="2">{{ goal.feb|intcomma }}원</td>
              <td colspan="2">{{ goal.mar|intcomma }}원</td>
              <td colspan="2">{{ goal.apr|intcomma }}원</td>
              <td colspan="2">{{ goal.may|intcomma }}원</td>
              <td colspan="2">{{ goal.jun|intcomma }}원</td>
            </tr>
            </tbody>
          </table>
          <table class="pc-table">
            <thead>
            <tr>
              <th colspan="6" class="text-primary">Q3 목표 금액 - {{ goal.q3|intcomma }}</th>
              <th colspan="6" class="text-primary">Q4 목표 금액 - {{ goal.q4|intcomma }}</th>
            </tr>
            </thead>
            <tbody>
            <tr>
              <td colspan="2">7월</td>
              <td colspan="2">8월</td>
              <td colspan="2">9월</td>
              <td colspan="2">10월</td>
              <td colspan="2">11월</td>
              <td colspan="2">12월</td>
            </tr>
            <tr>
              <td colspan="2">{{ goal.jul|intcomma }}원</td>
              <td colspan="2">{{ goal.aug|intcomma }}원</td>
              <td colspan="2">{{ goal.sep|intcomma }}원</td>
              <td colspan="2">{{ goal.oct|intcomma }}원</td>
              <td colspan="2">{{ goal.nov|intcomma }}원</td>
              <td colspan="2">{{ goal.dec|intcomma }}원</td>
            </tr>
            </tbody>
          </table>
          <br>
          <div class="text-center">
            <a href="#" class="btn btn-danger btn-icon-split" onclick="btn_delete()">
              <span class="icon text-white-50"> <i class="fas fa-trash-alt"> </i> </span>
              <span class="text"> 삭제 </span>
            </a>
            <a href="#" class="btn btn-info btn-icon-split" onclick="btn_modify()">
              <span class="icon text-white-50"> <i class="fas fa-edit"> </i> </span>
              <span class="text"> 수정 </span>
            </a>
          </div>
        </div>

      </div>

    </div>

    <div class="col-xl-1"></div>
  </div>

{% endblock %}


{% block script %}

  <script type="text/javascript">

      function btn_modify() {
          location.href = '/sales/modifygoal/' + {{ goal.goalId }} +'/';
      }

      function btn_delete() {
          if (confirm("삭제 하시겠습니까?") === true) {
              location.href = '/sales/deletegoal/' + {{ goal.goalId }} +'/';
          }
      }

  </script>

{% endblock %}
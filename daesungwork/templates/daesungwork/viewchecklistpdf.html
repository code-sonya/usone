{% load staticfiles %}
{% load humanize %}
<!DOCTYPE html>
<html lang="ko">
<head>

  <meta charset="utf-8">

  <style type="text/css">
    @font-face {
      font-family: KBIZHanmaumMyungjo;
      src: url({% static '/mail/KBIZHanmaumMyungjo.ttf' %});
    }

    html {
      font-family: KBIZHanmaumMyungjo, serif;
    }

    @page {
      size: A4;
      margin-left: 10pt;
      margin-right: 10pt;
      margin-top: 20pt;
    }

    .thtd {
      text-align: center;
      border: 1px solid grey;
      border-collapse: collapse;
    }

    .pc-table {
      color: #333333;
      table-layout: fixed;
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 1rem;
    }

    .pc-table td, .pc-table th {
      /* 상우하좌 */
      padding: 5px 0px 5px 0px;
      text-align: center;
      vertical-align: middle;
      font-size: 10px;
      border-top: 1px dotted #858796a3;
      background-color: #ebfaff;
    }


  </style>
</head>
<body>
<div style="text-align: center;">
  <strong style="font-size: 35px;">센터별 체크리스트 </strong>
</div>
<br>
<div style="font-size: 14px">점검일자 : {{ todayYear }}년 {{ todayMonth }}월</div>
<table class="pc-table">
  <thead class="thtd">
  <tr class="thtd">
    <td class="thtd" colspan="2">센터</td>
    <td class="thtd" colspan="1">{{ todayMonth }}월</td>
    {% for day in days %}
    <td class="thtd" colspan="1">{{ day }}</td>
    {% endfor %}

  </tr>
  </thead>
  <tbody>
  {% for row in table %}
      {% ifchanged row.centerName %}
      <tr class="thtd" style="background-color: lightgrey">
      <td class="thtd" colspan="2">{{ row.centerName }}</td>
      {% else %}
      <tr class="thtd">
      <td class="thtd" colspan="2" style="background-color: white"></td>
      {% endifchanged %}
      <td class="thtd" colspan="1" style="background-color: white">{{ row.checkListId }}</td>
      {% for date in row.dateDict %}
      <td class="thtd" colspan="1" style="background-color: white">
        {% if date == "Y" %}
          V
        {% elif date == "N" %}
        <span style="color: red">이상</span>
        {% else %}
        {% endif %}
      </td>
      {% endfor %}
    </tr>
  {% endfor %}
  </tbody>
</table>
<div>
  {% for checklist in checklists %}
  <span>{{ checklist.checkListId }} : {{ checklist.checkListName }}</span>
  {% endfor %}
</div>
</body>
</html>
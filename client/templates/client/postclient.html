{% extends "dashboard/layout.html" %}


{% block title %}
  고객사
{% endblock %}


{% block content %}

  <div class="row">
    <div class="col-xl-2"></div>

    <div class="col-xl-8">

      <div class="card shadow mb-4">
        <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
          <h6 class="m-0 h3 text-gray-800">고객사 등록</h6>
        </div>

        <div class="card-body">
          <form id="CompanyForm" method="POST">{{ modify }}
            {% csrf_token %}
            <span class="small">※ 참고사항 : 고객사명은 <span class="text-danger">필수 입력값</span> 입니다.</span>
            <div class="row">
              <div class="col-12">

                <div class="form-group">
                  <label for="companyName" class="font-weight-bold text-primary">[영문] 고객사 명 (ex:AXA손해보험)</label> {{ form.companyName }}
                </div>
                <div class="form-group">
                  <label for="companyNameKo" class="font-weight-bold text-primary">[한글] 고객사 명 (ex:악사손해보험)</label> {{ form.companyNameKo }}
                </div>
                <div class="form-group">
                  <label for="companyNumber" class="font-weight-bold">사업자등록번호</label> {{ form.companyNumber }}
                </div>
                <div class="form-group">
                  <label for="saleEmpId" class="font-weight-bold">담당자</label> {{ form.saleEmpId }}
                </div>
                <div class="form-group">
                  <label for="companyAddress" class="font-weight-bold">주소</label> {{ form.companyAddress }}
                </div>
              </div>
            </div>


            <div class="text-center">
              <a href="#" class="btn btn-danger btn-icon-split" onclick="btn_cancel()">
                <span class="icon text-white-50"> <i class="fas fa-times"> </i> </span>
                <span class="text"> 취소 </span>
              </a>
              <a href="#" class="btn btn-success btn-icon-split" onclick="btn_save()">
                <span class="icon text-white-50"> <i class="fas fa-check"> </i> </span>
                <span class="text"> 저장 </span>
              </a>
            </div>
          </form>
        </div>

      </div>

    </div>

    <div class="col-xl-2"></div>
  </div>

{% endblock %}


{% block script %}

  <script type="text/javascript">


      function btn_cancel() {
          if (confirm("취소하시겠습니까?") === true) {
              history.back();
          } else {
              return false;
          }
      }

      function btn_save() {
          const companyNameKo = document.getElementById("companyNameKo").value;
          const companyName = document.getElementById("companyName").value;

          if (companyNameKo === '') {
              alert("[한글] 고객사 명을 입력해주세요.");
              return false;
          }

          if (companyName === '') {
              alert("[영문] 고객사 명을 입력해주세요.");
              return false;
          }

          if (confirm("고객사 등록을 하시겠습니까?") === true) {    //확인
              document.getElementById("CompanyForm").submit();
          }
      }

      $(document).ready(function () {
          {% if modify %}
           const company = document.getElementById("companyName");
           company.readOnly = true;
          {% endif %}
      });


  </script>

{% endblock %}